<!doctype html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Emergency Dashboard</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.3.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/dataTables.bootstrap5.min.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="Icon" href="Icon.png" type="image/png+xml">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD72GRS8KWHU8yzaOX7qkolLP5uIW4P2Dk&callback=initMap" defer></script>
</head>
<body>
    <div class="container-fluid">
        <div class="header-container">
            <img src="Icon.png" alt="Logo">
            <h2>Emergency Response Dashboard</h2>
            <button class="navbar-toggler" type="button" id="burger-menu" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <i class="fas fa-bars"></i> <!-- Updated to use Font Awesome bars icon -->
            </button>
        </div>
        
        <div class="dropdown-container" id="dropdown-menu">
            <div class="dropdown-item" id="toggle-dark-mode" title="Toggle Dark Mode">
                <i class="fas fa-adjust"></i> Toggle Dark Mode
            </div>
            <div class="dropdown-item" onclick="index.html='emergency_response_dashboard.html'">
                <i class="fas fa-home"></i> Emergency Response Dashboard
            </div>
            <div class="dropdown-item" onclick="location.href='hazard_mapping.html'">
                <i class="fas fa-map"></i> Hazard Mapping
            </div>
        </div>

        <main>
            <div class="parent">
                <div class="div1">
                    <div class="dashboard-container">
                        <div class="col-md-12">
                            <!-- Emergencies Table -->
                            <div class="card" id="emergencies">
                                <div class="card-body">
                                    <h4 class="card-title"><i class="fas fa-exclamation-triangle"></i> Emergencies</h4>
                                    <div class="table-container">
                                        <table id="emergency-table" class="table table-striped">
                                            <thead>
                                                <tr>
                                                    <th>ID</th><th>Location</th><th>Time</th><th>Concern</th><th>Status</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td>1</td>
                                                    <td>Manila</td>
                                                    <td>12:30 PM</td>
                                                    <td>Fire</td>
                                                    <td>1</td>
                                                </tr>
                                                
                                                <tr>
                                                    <td>2</td>
                                                    <td>Mandaluyong</td>
                                                    <td>3:45 PM</td>
                                                    <td>Vehicular Accident</td>
                                                    <td>2</td>
                                                </tr>
                                                <tr>
                                                    <td>3</td>
                                                    <td>Batangas</td>
                                                    <td>3:45 PM</td>
                                                    <td>Flood</td>
                                                    <td>3</td>
                                                </tr>
                                                <tr>
                                                    <td>4</td>
                                                    <td>Cavite</td>
                                                    <td>3:45 PM</td>
                                                    <td>Fire</td>
                                                    <td>0</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
        
                <div class="div2">
                    <div class="weather-updates">
                        <h4 class="card-title"><i class="fas fa-cloud-sun-rain"></i> Weather Updates</h4>
                        <div class="weather-container">
                            <form id="weatherForm" class="weather-form">
                                <input type="text" id="cityInput" class="weather-input" placeholder="Enter city name" required>
                                <button type="submit" class="weather-button">
                                    <i class="fa-solid fa-magnifying-glass"></i>
                                </button>
                            </form>
                            <section class="weather-card">
                                <div class="weather-header">
                                    <figure class="city-name">
                                        <figcaption id="cityName">--</figcaption> 
                                        <img id="countryFlag" src="" alt="Flag" style="width: 30px; height: auto;">
                                    </figure>
                                    <p class="weather-description" id="weatherDescription">--</p>
                                </div>
                                <div class="weather-main">
                                    <figure class="temperature">
                                        <img id="weatherIcon" src="" alt="Weather Icon" style="width: 70px; height: 70px;"> <!-- Increased size -->
                                        <figcaption>
                                            <span id="temperature">--</span><sup class="degree-symbol">Â°C</sup>
                                        </figcaption> 
                                    </figure>
                                </div>
                                <ul class="weather-details">
                                    <li>
                                        <span>Clouds </span>
                                        <i class="fa-solid fa-cloud"></i>
                                        <span id="clouds">--</span>%
                                    </li>
                                    <li>
                                        <span>Humidity </span>
                                        <i class="fa-solid fa-droplet"></i>
                                        <span id="humidity">--</span>%
                                    </li>
                                    <li>
                                        <span>Pressure </span>
                                        <i class="fa-solid fa-gauge"></i>
                                        <span id="pressure">--</span> hPa
                                    </li>
                                </ul>
                            </section>
                        </div>
                    </div>
                </div>
        
                <div class="div3">
                    <div class="chart-box">
                        <h3 class="card-title"><i class="fas fa-chart-pie"></i> Monthly Incident Report</h3>
                        <canvas id="monthlyIncidentChart" style="height: 270px; width: 100%;"></canvas>
                    </div>
                </div>
        
                <div class="div4">
                    <div class="chart-box">
                        <h3 class="card-title"><i class="fas fa-chart-pie"></i> Involved Barangay</h3>
                        <canvas id="incidentChart" style="height: 270px; width: 100%;"></canvas>
                    </div>
                </div>
        
                <div class="div5">
                    <div id="emergency-analytics">
                        <div id="legend-container"></div>
                        <h3 class="card-title"><i class="fas fa-chart-pie"></i> Emergency Analytics</h3>
                        <canvas id="emergencyChart" style="height: 290px; width: 100%;"></canvas>
                    </div>
                </div>
        
                <div class="div6">
                    <div id="rescue-analytics">
                        <h3 class="card-title"><i class="fas fa-user-plus"></i> Rescues via Radar Mobile App</h3>
                        <canvas id="rescueChart" style="height: 265px; width: 100%;"></canvas>
                    </div>
                </div>
        
                <div class="div7">
                    <div id="map"></div>
                </div>
            </div>
        </main>        
    
    <script src="scripts.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.canvasjs.com/canvasjs.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.6/js/dataTables.bootstrap5.min.js"></script>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
</body>
</html>
